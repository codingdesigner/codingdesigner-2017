////
/// @group Typography
////



/// Set link defaults
/// @param {boolean} $underlines [true] - use css underlines
@mixin set-link-defaults($underlines: true) {
  @if ($underlines == false) {
    text-decoration: none;
  }

  &:focus, &:hover {
    outline: none;
  }
  cursor: pointer;
}

/// Set Link Colors
/// @param {color} $link-normal [get-link-parameter(normal)]
/// @param {color} $link-hover [get-link-parameter(normal, hover)]
/// @param {color} $link-active [get-link-parameter(normal, active)]
/// @param {color} $link-visited [get-link-parameter(normal, visited)]
/// @param {color} $link-focus [get-link-parameter(normal, focus)]
@mixin set-link-colors(
  $link-normal: get-link-parameter(normal),
  $link-hover: get-link-parameter(normal, hover),
  $link-active: get-link-parameter(normal, active),
  $link-visited: get-link-parameter(normal, visited),
  $link-focus: get-link-parameter(normal, focus)
) {
  color: $link-normal;

  &:link {
    color: $link-normal;
  }

  &:hover {
    color: $link-hover;
  }

  &:active {
    color: $link-active;
  }

  &:visited {
    color: $link-visited;
  }

  &:focus {
    color: $link-focus;
  }
}

/// Set standard link transitions
@mixin set-link-transitions() {
  transition-property: color, background, text-shadow;
  transition-duration: 0.2s;
  transition-timing-function: ease-in-out;
}

/// Set border underline links
/// @param {color} $link-border-normal [get-link-parameter(border)]
/// @param {color} $link-border-hover [get-link-parameter(border, hover)]
/// @param {color} $link-border-active [get-link-parameter(border, active)]
/// @param {color} $link-border-visited [get-link-parameter(border, visited)]
/// @param {color} $link-border-focus [get-link-parameter(border, focus)]
/// @param {number} $link-border-size [get-link-parameter(border, size)]
@mixin set-border-links(
  $link-border-normal: get-link-parameter(border),
  $link-border-hover: get-link-parameter(border, hover),
  $link-border-active: get-link-parameter(border, active),
  $link-border-visited: get-link-parameter(border, visited),
  $link-border-focus: get-link-parameter(border, focus),
  $link-border-size: get-link-parameter(border, size)
) {
  border-bottom: $link-border-size solid $link-border-normal;

  &:visited {
    border-bottom-color: $link-border-visited;
  }

  &:focus {
    border-bottom-color: $link-border-focus;
  }

  &:hover {
    border-bottom-color: $link-border-hover;
  }

  &:active {
    border-bottom-color: $link-border-active;
  }
}

/// Unset border underline links
@mixin unset-border-links() {
  border-bottom: none;
  text-decoration: none;

  &:visited {
    border-bottom: none;
  }

  &:focus {
    border-bottom: none;
  }

  &:hover {
    border-bottom: none;
  }

  &:active {
    border-bottom: none;
  }
}

/// Calculate background gradient image for faux underline links
/// @param {color} $background-color
/// @param {color} $line-color
/// @param {number} $size
/// @param {number} $offset [0]
@mixin faux-underline-link-gradient($background-color, $line-color, $size, $offset: 0) {
  background-image: linear-gradient(to top, $background-color $offset, $line-color ($size + $offset), $background-color ($size + $offset));
}

/// Set faux underline links
/// * Set a background as the underline on a link, with a text shadow on the text.
/// * Allows the descenders to "break" the underline
/// @param {color} $link-faux-normal [get-link-parameter(faux-underline)]
/// @param {color} $link-faux-hover [get-link-parameter(faux-underline, hover)]
/// @param {color} $link-faux-active [get-link-parameter(faux-underline, active)]
/// @param {color} $link-faux-visited [get-link-parameter(faux-underline, visited)]
/// @param {color} $link-faux-focus [get-link-parameter(faux-underline, focus)]
/// @param {number} $link-faux-size [get-link-parameter(faux-underline, size)]
/// @param {color} $link-faux-background-color [get-link-parameter(faux-underline, background-color)]
@mixin set-faux-underline-links(
  $link-faux-normal: get-link-parameter(faux-underline),
  $link-faux-hover: get-link-parameter(faux-underline, hover),
  $link-faux-active: get-link-parameter(faux-underline, active),
  $link-faux-visited: get-link-parameter(faux-underline, visited),
  $link-faux-focus: get-link-parameter(faux-underline, focus),
  $link-faux-size: get-link-parameter(faux-underline, size),
  $link-faux-background-color: get-link-parameter(faux-underline, background-color),
  $offset: 0) {
  $bkg-gradient: transparent;
  @include faux-underline-link-gradient($bkg-gradient, $link-faux-normal, $link-faux-size, $offset);

  &:visited {
    @include faux-underline-link-gradient($bkg-gradient, $link-faux-visited, $link-faux-size, $offset);
  }

  &:focus {
    @include faux-underline-link-gradient($bkg-gradient, $link-faux-focus, $link-faux-size, $offset);
  }

  &:hover {
    @include faux-underline-link-gradient($bkg-gradient, $link-faux-hover, $link-faux-size, $offset);
  }

  &:active {
    @include faux-underline-link-gradient($bkg-gradient, $link-faux-active, $link-faux-size, $offset);
  }
  background-position: 100% 100%;
  background-size: 100% 100%;
  text-decoration: none;
  text-shadow: $link-faux-background-color -1px 1px 0, $link-faux-background-color 0 1px 0, $link-faux-background-color 1px 1px 0;
}

/// unset the faux underline underline
@mixin unset-faux-underline-links() {
  background-image: none;
  text-decoration: none;
  text-shadow: none;

  &:visited {
    background-image: none;
    text-shadow: none;
  }

  &:focus {
    background-image: none;
    text-shadow: none;
  }

  &:hover {
    background-image: none;
    text-shadow: none;
  }

  &:active {
    background-image: none;
    text-shadow: none;
  }
}

/// Clean link with no underlines
@mixin link-clean() {
  @include set-link-defaults(false);
  @include set-link-colors();
  @include unset-faux-underline-links();
}

/// Standard link
/// * change to suit your app
@mixin link-standard() {
  @include set-link-defaults();
  @include set-link-colors();
  @include set-faux-underline-links();
  @include set-link-transitions();
}

/// Standard link
/// * change to suit your app
@mixin link-reverse() {
  @include set-link-colors(
    $link-normal: get-link-parameter(reverse),
    $link-hover: get-link-parameter(reverse, hover),
    $link-active: get-link-parameter(reverse, active),
    $link-visited: get-link-parameter(reverse, visited),
    $link-focus: get-link-parameter(reverse, focus)
  );
  @include unset-faux-underline-links();
}

@mixin link-knockout-underline() {
  @include set-link-defaults();
  @include set-link-colors (
    $link-normal: get-color(white),
    $link-hover: get-color(gray, light),
    $link-active: get-color(white),
    $link-visited: get-color(white),
    $link-focus: get-color(gray, light)
  );
  @include unset-faux-underline-links();
  @include set-faux-underline-links(
    $link-faux-normal: get-color(white),
    $link-faux-hover: get-color(gray, light),
    $link-faux-active: get-color(white),
    $link-faux-visited: get-color(white),
    $link-faux-focus: get-color(gray, light)
  );
}
